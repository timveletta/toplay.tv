enum GameStatus {
  LOBBY
  INGAME
  COMPLETE
}

enum GameType {
  TWOROOMSONEBOOM
  GALACTICCONQUEST
  CODEBREAKERS
}

type Game {
  code: String!
  createdAt: Int
  status: GameStatus!
  type: GameType!
  players: [Player]
}

type Player {
  id: ID!
  name: String!
  code: String
}

type JoinGameResponse {
  id: ID!
  player: Player
}

type Mutation {
  createGame(gameType: GameType!): Game!
  joinGame(code: String!, name: String!): JoinGameResponse!
}

type Query {
  getGame(code: String!): Game!
}

type Subscription {
  playerJoined(code: String): JoinGameResponse
    @aws_subscribe(mutations: ["joinGame"])
}

schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}
